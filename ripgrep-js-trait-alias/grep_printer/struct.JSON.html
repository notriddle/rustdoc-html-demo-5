<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The JSON printer, which emits results in a JSON lines format."><title>JSON in grep_printer - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-deb46770fd761b69.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="grep_printer" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-dev" data-channel="nightly" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-9dd44ab47b99a0fb.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../grep_printer/index.html">grep_printer</a><span class="version">0.1.7</span></h2></div><h2 class="location"><a href="#">JSON</a></h2><div class="sidebar-elems"><section><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.get_mut">get_mut</a></li><li><a href="#method.has_written">has_written</a></li><li><a href="#method.into_inner">into_inner</a></li><li><a href="#method.new">new</a></li><li><a href="#method.sink">sink</a></li><li><a href="#method.sink_with_path">sink_with_path</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-Debug-for-JSON%3CW%3E">Debug</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-RefUnwindSafe-for-JSON%3CW%3E">RefUnwindSafe</a></li><li><a href="#impl-Send-for-JSON%3CW%3E">Send</a></li><li><a href="#impl-Sync-for-JSON%3CW%3E">Sync</a></li><li><a href="#impl-Unpin-for-JSON%3CW%3E">Unpin</a></li><li><a href="#impl-UnwindSafe-for-JSON%3CW%3E">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E-for-T">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E-for-T">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T">TryInto&lt;U&gt;</a></li></ul></section><h2><a href="index.html">In crate grep_printer</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Struct <a href="index.html">grep_printer</a>::<wbr><a class="struct" href="#">JSON</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/grep_printer/json.rs.html#451-455">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub struct JSON&lt;W&gt; { /* private fields */ }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The JSON printer, which emits results in a JSON lines format.</p>
<p>This type is generic over <code>W</code>, which represents any implementation of
the standard library <code>io::Write</code> trait.</p>
<h2 id="format"><a href="#format">Format</a></h2>
<p>This section describes the JSON format used by this printer.</p>
<p>To skip the rigamarole, take a look at the
<a href="#example">example</a>
at the end.</p>
<h3 id="overview"><a href="#overview">Overview</a></h3>
<p>The format of this printer is the <a href="https://jsonlines.org/">JSON Lines</a>
format. Specifically, this printer emits a sequence of messages, where
each message is encoded as a single JSON value on a single line. There are
four different types of messages (and this number may expand over time):</p>
<ul>
<li><strong>begin</strong> - A message that indicates a file is being searched.</li>
<li><strong>end</strong> - A message the indicates a file is done being searched. This
message also include summary statistics about the search.</li>
<li><strong>match</strong> - A message that indicates a match was found. This includes
the text and offsets of the match.</li>
<li><strong>context</strong> - A message that indicates a contextual line was found.
This includes the text of the line, along with any match information if
the search was inverted.</li>
</ul>
<p>Every message is encoded in the same envelope format, which includes a tag
indicating the message type along with an object for the payload:</p>
<div class="example-wrap"><pre class="language-json"><code>{
    &quot;type&quot;: &quot;{begin|end|match|context}&quot;,
    &quot;data&quot;: { ... }
}
</code></pre></div>
<p>The message itself is encoded in the envelope’s <code>data</code> key.</p>
<h3 id="text-encoding"><a href="#text-encoding">Text encoding</a></h3>
<p>Before describing each message format, we first must briefly discuss text
encoding, since it factors into every type of message. In particular, JSON
may only be encoded in UTF-8, UTF-16 or UTF-32. For the purposes of this
printer, we need only worry about UTF-8. The problem here is that searching
is not limited to UTF-8 exclusively, which in turn implies that matches
may be reported that contain invalid UTF-8. Moreover, this printer may
also print file paths, and the encoding of file paths is itself not
guaranteed to be valid UTF-8. Therefore, this printer must deal with the
presence of invalid UTF-8 somehow. The printer could silently ignore such
things completely, or even lossily transcode invalid UTF-8 to valid UTF-8
by replacing all invalid sequences with the Unicode replacement character.
However, this would prevent consumers of this format from accessing the
original data in a non-lossy way.</p>
<p>Therefore, this printer will emit valid UTF-8 encoded bytes as normal
JSON strings and otherwise base64 encode data that isn’t valid UTF-8. To
communicate whether this process occurs or not, strings are keyed by the
name <code>text</code> where as arbitrary bytes are keyed by <code>bytes</code>.</p>
<p>For example, when a path is included in a message, it is formatted like so,
if and only if the path is valid UTF-8:</p>
<div class="example-wrap"><pre class="language-json"><code>{
    &quot;path&quot;: {
        &quot;text&quot;: &quot;/home/ubuntu/lib.rs&quot;
    }
}
</code></pre></div>
<p>If instead our path was <code>/home/ubuntu/lib\xFF.rs</code>, where the <code>\xFF</code> byte
makes it invalid UTF-8, the path would instead be encoded like so:</p>
<div class="example-wrap"><pre class="language-json"><code>{
    &quot;path&quot;: {
        &quot;bytes&quot;: &quot;L2hvbWUvdWJ1bnR1L2xpYv8ucnM=&quot;
    }
}
</code></pre></div>
<p>This same representation is used for reporting matches as well.</p>
<p>The printer guarantees that the <code>text</code> field is used whenever the
underlying bytes are valid UTF-8.</p>
<h3 id="wire-format"><a href="#wire-format">Wire format</a></h3>
<p>This section documents the wire format emitted by this printer, starting
with the four types of messages.</p>
<p>Each message has its own format, and is contained inside an envelope that
indicates the type of message. The envelope has these fields:</p>
<ul>
<li><strong>type</strong> - A string indicating the type of this message. It may be one
of four possible strings: <code>begin</code>, <code>end</code>, <code>match</code> or <code>context</code>. This
list may expand over time.</li>
<li><strong>data</strong> - The actual message data. The format of this field depends on
the value of <code>type</code>. The possible message formats are
<a href="#message-begin"><code>begin</code></a>,
<a href="#message-end"><code>end</code></a>,
<a href="#message-match"><code>match</code></a>,
<a href="#message-context"><code>context</code></a>.</li>
</ul>
<h5 id="message-begin"><a href="#message-begin">Message: <strong>begin</strong></a></h5>
<p>This message indicates that a search has begun. It has these fields:</p>
<ul>
<li><strong>path</strong> - An
<a href="#object-arbitrary-data">arbitrary data object</a>
representing the file path corresponding to the search, if one is
present. If no file path is available, then this field is <code>null</code>.</li>
</ul>
<h5 id="message-end"><a href="#message-end">Message: <strong>end</strong></a></h5>
<p>This message indicates that a search has finished. It has these fields:</p>
<ul>
<li><strong>path</strong> - An
<a href="#object-arbitrary-data">arbitrary data object</a>
representing the file path corresponding to the search, if one is
present. If no file path is available, then this field is <code>null</code>.</li>
<li><strong>binary_offset</strong> - The absolute offset in the data searched
corresponding to the place at which binary data was detected. If no
binary data was detected (or if binary detection was disabled), then this
field is <code>null</code>.</li>
<li><strong>stats</strong> - A <a href="#object-stats"><code>stats</code> object</a> that contains summary
statistics for the previous search.</li>
</ul>
<h5 id="message-match"><a href="#message-match">Message: <strong>match</strong></a></h5>
<p>This message indicates that a match has been found. A match generally
corresponds to a single line of text, although it may correspond to
multiple lines if the search can emit matches over multiple lines. It
has these fields:</p>
<ul>
<li><strong>path</strong> - An
<a href="#object-arbitrary-data">arbitrary data object</a>
representing the file path corresponding to the search, if one is
present. If no file path is available, then this field is <code>null</code>.</li>
<li><strong>lines</strong> - An
<a href="#object-arbitrary-data">arbitrary data object</a>
representing one or more lines contained in this match.</li>
<li><strong>line_number</strong> - If the searcher has been configured to report line
numbers, then this corresponds to the line number of the first line
in <code>lines</code>. If no line numbers are available, then this is <code>null</code>.</li>
<li><strong>absolute_offset</strong> - The absolute byte offset corresponding to the start
of <code>lines</code> in the data being searched.</li>
<li><strong>submatches</strong> - An array of <a href="#object-submatch"><code>submatch</code> objects</a>
corresponding to matches in <code>lines</code>. The offsets included in each
<code>submatch</code> correspond to byte offsets into <code>lines</code>. (If <code>lines</code> is base64
encoded, then the byte offsets correspond to the data after base64
decoding.) The <code>submatch</code> objects are guaranteed to be sorted by their
starting offsets. Note that it is possible for this array to be empty,
for example, when searching reports inverted matches.</li>
</ul>
<h5 id="message-context"><a href="#message-context">Message: <strong>context</strong></a></h5>
<p>This message indicates that a contextual line has been found. A contextual
line is a line that doesn’t contain a match, but is generally adjacent to
a line that does contain a match. The precise way in which contextual lines
are reported is determined by the searcher. It has these fields, which are
exactly the same fields found in a <a href="#message-match"><code>match</code></a>:</p>
<ul>
<li><strong>path</strong> - An
<a href="#object-arbitrary-data">arbitrary data object</a>
representing the file path corresponding to the search, if one is
present. If no file path is available, then this field is <code>null</code>.</li>
<li><strong>lines</strong> - An
<a href="#object-arbitrary-data">arbitrary data object</a>
representing one or more lines contained in this context. This includes
line terminators, if they’re present.</li>
<li><strong>line_number</strong> - If the searcher has been configured to report line
numbers, then this corresponds to the line number of the first line
in <code>lines</code>. If no line numbers are available, then this is <code>null</code>.</li>
<li><strong>absolute_offset</strong> - The absolute byte offset corresponding to the start
of <code>lines</code> in the data being searched.</li>
<li><strong>submatches</strong> - An array of <a href="#object-submatch"><code>submatch</code> objects</a>
corresponding to matches in <code>lines</code>. The offsets included in each
<code>submatch</code> correspond to byte offsets into <code>lines</code>. (If <code>lines</code> is base64
encoded, then the byte offsets correspond to the data after base64
decoding.) The <code>submatch</code> objects are guaranteed to be sorted by
their starting offsets. Note that it is possible for this array to be
non-empty, for example, when searching reports inverted matches such that
the original matcher could match things in the contextual lines.</li>
</ul>
<h5 id="object-submatch"><a href="#object-submatch">Object: <strong>submatch</strong></a></h5>
<p>This object describes submatches found within <code>match</code> or <code>context</code>
messages. The <code>start</code> and <code>end</code> fields indicate the half-open interval on
which the match occurs (<code>start</code> is included, but <code>end</code> is not). It is
guaranteed that <code>start &lt;= end</code>. It has these fields:</p>
<ul>
<li><strong>match</strong> - An
<a href="#object-arbitrary-data">arbitrary data object</a>
corresponding to the text in this submatch.</li>
<li><strong>start</strong> - A byte offset indicating the start of this match. This offset
is generally reported in terms of the parent object’s data. For example,
the <code>lines</code> field in the
<a href="#message-match"><code>match</code></a> or <a href="#message-context"><code>context</code></a>
messages.</li>
<li><strong>end</strong> - A byte offset indicating the end of this match. This offset
is generally reported in terms of the parent object’s data. For example,
the <code>lines</code> field in the
<a href="#message-match"><code>match</code></a> or <a href="#message-context"><code>context</code></a>
messages.</li>
</ul>
<h5 id="object-stats"><a href="#object-stats">Object: <strong>stats</strong></a></h5>
<p>This object is included in messages and contains summary statistics about
a search. It has these fields:</p>
<ul>
<li><strong>elapsed</strong> - A <a href="#object-duration"><code>duration</code> object</a> describing the
length of time that elapsed while performing the search.</li>
<li><strong>searches</strong> - The number of searches that have run. For this printer,
this value is always <code>1</code>. (Implementations may emit additional message
types that use this same <code>stats</code> object that represents summary
statistics over multiple searches.)</li>
<li><strong>searches_with_match</strong> - The number of searches that have run that have
found at least one match. This is never more than <code>searches</code>.</li>
<li><strong>bytes_searched</strong> - The total number of bytes that have been searched.</li>
<li><strong>bytes_printed</strong> - The total number of bytes that have been printed.
This includes everything emitted by this printer.</li>
<li><strong>matched_lines</strong> - The total number of lines that participated in a
match. When matches may contain multiple lines, then this includes every
line that is part of every match.</li>
<li><strong>matches</strong> - The total number of matches. There may be multiple matches
per line. When matches may contain multiple lines, each match is counted
only once, regardless of how many lines it spans.</li>
</ul>
<h5 id="object-duration"><a href="#object-duration">Object: <strong>duration</strong></a></h5>
<p>This object includes a few fields for describing a duration. Two of its
fields, <code>secs</code> and <code>nanos</code>, can be combined to give nanosecond precision
on systems that support it. It has these fields:</p>
<ul>
<li><strong>secs</strong> - A whole number of seconds indicating the length of this
duration.</li>
<li><strong>nanos</strong> - A fractional part of this duration represent by nanoseconds.
If nanosecond precision isn’t supported, then this is typically rounded
up to the nearest number of nanoseconds.</li>
<li><strong>human</strong> - A human readable string describing the length of the
duration. The format of the string is itself unspecified.</li>
</ul>
<h5 id="object-arbitrary-data"><a href="#object-arbitrary-data">Object: <strong>arbitrary data</strong></a></h5>
<p>This object is used whenever arbitrary data needs to be represented as a
JSON value. This object contains two fields, where generally only one of
the fields is present:</p>
<ul>
<li><strong>text</strong> - A normal JSON string that is UTF-8 encoded. This field is
populated if and only if the underlying data is valid UTF-8.</li>
<li><strong>bytes</strong> - A normal JSON string that is a base64 encoding of the
underlying bytes.</li>
</ul>
<p>More information on the motivation for this representation can be seen in
the section <a href="#text-encoding">text encoding</a> above.</p>
<h3 id="example"><a href="#example">Example</a></h3>
<p>This section shows a small example that includes all message types.</p>
<p>Here’s the file we want to search, located at <code>/home/andrew/sherlock</code>:</p>
<div class="example-wrap"><pre class="language-text"><code>For the Doctor Watsons of this world, as opposed to the Sherlock
Holmeses, success in the province of detective work must always
be, to a very large extent, the result of luck. Sherlock Holmes
can extract a clew from a wisp of straw or a flake of cigar ash;
but Doctor Watson has to have it taken out for him and dusted,
and exhibited clearly, with a label attached.
</code></pre></div>
<p>Searching for <code>Watson</code> with a <code>before_context</code> of <code>1</code> with line numbers
enabled shows something like this using the standard printer:</p>
<div class="example-wrap"><pre class="language-text"><code>sherlock:1:For the Doctor Watsons of this world, as opposed to the Sherlock
--
sherlock-4-can extract a clew from a wisp of straw or a flake of cigar ash;
sherlock:5:but Doctor Watson has to have it taken out for him and dusted,
</code></pre></div>
<p>Here’s what the same search looks like using the JSON wire format described
above, where in we show semi-prettified JSON (instead of a strict JSON
Lines format), for illustrative purposes:</p>
<div class="example-wrap"><pre class="language-json"><code>{
  &quot;type&quot;: &quot;begin&quot;,
  &quot;data&quot;: {
    &quot;path&quot;: {&quot;text&quot;: &quot;/home/andrew/sherlock&quot;}}
  }
}
{
  &quot;type&quot;: &quot;match&quot;,
  &quot;data&quot;: {
    &quot;path&quot;: {&quot;text&quot;: &quot;/home/andrew/sherlock&quot;},
    &quot;lines&quot;: {&quot;text&quot;: &quot;For the Doctor Watsons of this world, as opposed to the Sherlock\n&quot;},
    &quot;line_number&quot;: 1,
    &quot;absolute_offset&quot;: 0,
    &quot;submatches&quot;: [
      {&quot;match&quot;: {&quot;text&quot;: &quot;Watson&quot;}, &quot;start&quot;: 15, &quot;end&quot;: 21}
    ]
  }
}
{
  &quot;type&quot;: &quot;context&quot;,
  &quot;data&quot;: {
    &quot;path&quot;: {&quot;text&quot;: &quot;/home/andrew/sherlock&quot;},
    &quot;lines&quot;: {&quot;text&quot;: &quot;can extract a clew from a wisp of straw or a flake of cigar ash;\n&quot;},
    &quot;line_number&quot;: 4,
    &quot;absolute_offset&quot;: 193,
    &quot;submatches&quot;: []
  }
}
{
  &quot;type&quot;: &quot;match&quot;,
  &quot;data&quot;: {
    &quot;path&quot;: {&quot;text&quot;: &quot;/home/andrew/sherlock&quot;},
    &quot;lines&quot;: {&quot;text&quot;: &quot;but Doctor Watson has to have it taken out for him and dusted,\n&quot;},
    &quot;line_number&quot;: 5,
    &quot;absolute_offset&quot;: 258,
    &quot;submatches&quot;: [
      {&quot;match&quot;: {&quot;text&quot;: &quot;Watson&quot;}, &quot;start&quot;: 11, &quot;end&quot;: 17}
    ]
  }
}
{
  &quot;type&quot;: &quot;end&quot;,
  &quot;data&quot;: {
    &quot;path&quot;: {&quot;text&quot;: &quot;/home/andrew/sherlock&quot;},
    &quot;binary_offset&quot;: null,
    &quot;stats&quot;: {
      &quot;elapsed&quot;: {&quot;secs&quot;: 0, &quot;nanos&quot;: 36296, &quot;human&quot;: &quot;0.0000s&quot;},
      &quot;searches&quot;: 1,
      &quot;searches_with_match&quot;: 1,
      &quot;bytes_searched&quot;: 367,
      &quot;bytes_printed&quot;: 1151,
      &quot;matched_lines&quot;: 2,
      &quot;matches&quot;: 2
    }
  }
}
</code></pre></div></div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-JSON%3CW%3E" class="impl"><a class="src rightside" href="../src/grep_printer/json.rs.html#457-525">source</a><a href="#impl-JSON%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Write.html" title="trait std::io::Write">Write</a>&gt; <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../src/grep_printer/json.rs.html#460-462">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(wtr: W) -&gt; <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;</h4></section></summary><div class="docblock"><p>Return a JSON lines printer with a default configuration that writes
matches to the given writer.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.sink" class="method"><a class="src rightside" href="../src/grep_printer/json.rs.html#468-483">source</a><h4 class="code-header">pub fn <a href="#method.sink" class="fn">sink</a>&lt;'s, M: <a class="trait" href="../grep_matcher/trait.Matcher.html" title="trait grep_matcher::Matcher">Matcher</a>&gt;(
    &amp;'s mut self,
    matcher: M
) -&gt; <a class="struct" href="struct.JSONSink.html" title="struct grep_printer::JSONSink">JSONSink</a>&lt;'static, 's, M, W&gt;</h4></section></summary><div class="docblock"><p>Return an implementation of <code>Sink</code> for the JSON printer.</p>
<p>This does not associate the printer with a file path, which means this
implementation will never print a file path along with the matches.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.sink_with_path" class="method"><a class="src rightside" href="../src/grep_printer/json.rs.html#489-509">source</a><h4 class="code-header">pub fn <a href="#method.sink_with_path" class="fn">sink_with_path</a>&lt;'p, 's, M, P&gt;(
    &amp;'s mut self,
    matcher: M,
    path: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;'p P</a>
) -&gt; <a class="struct" href="struct.JSONSink.html" title="struct grep_printer::JSONSink">JSONSink</a>&lt;'p, 's, M, W&gt;<span class="where fmt-newline">where
    M: <a class="trait" href="../grep_matcher/trait.Matcher.html" title="trait grep_matcher::Matcher">Matcher</a>,
    P: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/std/path/struct.Path.html" title="struct std::path::Path">Path</a>&gt;,</span></h4></section></summary><div class="docblock"><p>Return an implementation of <code>Sink</code> associated with a file path.</p>
<p>When the printer is associated with a path, then it may, depending on
its configuration, print the path along with the matches found.</p>
</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-JSON%3CW%3E-1" class="impl"><a class="src rightside" href="../src/grep_printer/json.rs.html#527-544">source</a><a href="#impl-JSON%3CW%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.has_written" class="method"><a class="src rightside" href="../src/grep_printer/json.rs.html#530-532">source</a><h4 class="code-header">pub fn <a href="#method.has_written" class="fn">has_written</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if and only if this printer has written at least one byte
to the underlying writer during any of the previous searches.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_mut" class="method"><a class="src rightside" href="../src/grep_printer/json.rs.html#535-537">source</a><h4 class="code-header">pub fn <a href="#method.get_mut" class="fn">get_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut W</a></h4></section></summary><div class="docblock"><p>Return a mutable reference to the underlying writer.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.into_inner" class="method"><a class="src rightside" href="../src/grep_printer/json.rs.html#541-543">source</a><h4 class="code-header">pub fn <a href="#method.into_inner" class="fn">into_inner</a>(self) -&gt; W</h4></section></summary><div class="docblock"><p>Consume this printer and return back ownership of the underlying
writer.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-JSON%3CW%3E" class="impl"><a class="src rightside" href="../src/grep_printer/json.rs.html#450">source</a><a href="#impl-Debug-for-JSON%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W: <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../src/grep_printer/json.rs.html#450">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/nightly/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/nightly/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/nightly/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">§</a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe-for-JSON%3CW%3E" class="impl"><a href="#impl-RefUnwindSafe-for-JSON%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;<span class="where fmt-newline">where
    W: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,</span></h3></section><section id="impl-Send-for-JSON%3CW%3E" class="impl"><a href="#impl-Send-for-JSON%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;<span class="where fmt-newline">where
    W: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,</span></h3></section><section id="impl-Sync-for-JSON%3CW%3E" class="impl"><a href="#impl-Sync-for-JSON%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;<span class="where fmt-newline">where
    W: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,</span></h3></section><section id="impl-Unpin-for-JSON%3CW%3E" class="impl"><a href="#impl-Unpin-for-JSON%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;<span class="where fmt-newline">where
    W: <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,</span></h3></section><section id="impl-UnwindSafe-for-JSON%3CW%3E" class="impl"><a href="#impl-UnwindSafe-for-JSON%3CW%3E" class="anchor">§</a><h3 class="code-header">impl&lt;W&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.JSON.html" title="struct grep_printer::JSON">JSON</a>&lt;W&gt;<span class="where fmt-newline">where
    W: <a class="trait" href="https://doc.rust-lang.org/nightly/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,</span></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">§</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#135">source</a><a href="#impl-Any-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<span class="where fmt-newline">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/any.rs.html#136">source</a><a href="#method.type_id" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/nightly/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#208">source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#210">source</a><a href="#method.borrow" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#216">source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<span class="where fmt-newline">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/borrow.rs.html#217">source</a><a href="#method.borrow_mut" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/nightly/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#763">source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#766">source</a><a href="#method.from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#747-749">source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#756">source</a><a href="#method.into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#803-805">source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a href="#associatedtype.Error-1" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/nightly/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#810">source</a><a href="#method.try_from" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#788-790">source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">§</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<span class="where fmt-newline">where
    U: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</span></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a href="#associatedtype.Error" class="anchor">§</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/nightly/src/core/convert/mod.rs.html#795">source</a><a href="#method.try_into" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/nightly/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/nightly/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details></div></section></div></main></body></html>